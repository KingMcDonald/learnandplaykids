<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
    />
    <title>Learn & Play Garden</title>
    <link rel="icon" href="assets/Brainy_Web_App.png" type="image/png" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- ==================== LOADING SCREEN ==================== -->
    <div id="loadingScreen" class="screen active">
      <div class="loading-container">
        <img
          src="assets/Brainy_Web_App.png"
          alt="Brainy App"
          class="loading-image"
        />
        <p class="app-name">KM - Brainy</p>
        <div class="loading-bar-container">
          <div id="loadingBar" class="loading-bar"></div>
        </div>
        <p class="loading-text">Loading...</p>
      </div>
    </div>

    <!-- ==================== START SCREEN ==================== -->
    <div id="startScreen" class="screen">
      <div class="container">
        <h1 class="title">Garden Learn & Play</h1>
        <p class="subtitle">Help your plant grow by learning & playing!</p>
        <div class="name-input-box">
          <label for="userName">What's your name?</label>
          <input
            type="text"
            id="userName"
            class="name-input"
            placeholder="Enter your name"
            maxlength="20"
            onkeypress="if (event.key === 'Enter') game.startGame();"
          />
        </div>
        <button class="main-btn start-btn" onclick="game.startGame()">
          START PLAY
        </button>
      </div>
    </div>

    <!-- ==================== MAIN GARDEN SCREEN ==================== -->
    <div id="gardenScreen" class="screen">
      <div class="header">
        <span class="stats">Score: <span id="score">0</span></span>
      </div>

      <div class="garden-content">
        <h2>ğŸŒ± <span id="nameOfPlayer"></span>'s Garden</h2>
        <div class="plant-container">
          <div id="plant" class="plant-display">ğŸŒ±</div>
          <div class="plant-info">
            <p id="plantStage">Baby Seed</p>
            <div class="progress-bar">
              <div id="progressFill" class="progress-fill"></div>
            </div>
            <p id="progressText">Score: 0 / Stage 1</p>
          </div>
        </div>

        <h3>Learning Activities:</h3>
        <div class="activity-menu">
          <button
            class="activity-btn"
            onclick="game.startActivity('alphabet')"
            title="Tap & Talk"
          >
            <span class="emoji">A</span>
            <span class="label">Alphabet</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('phonics')"
            title="Sound Out"
          >
            <span class="emoji">â™ª</span>
            <span class="label">Phonics</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('match')"
            title="Match & Pop"
          >
            <span class="emoji">âœ“</span>
            <span class="label">Match</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('listen')"
            title="Listen & Find"
          >
            <span class="emoji">ğŸ“£</span>
            <span class="label">Listen</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('numbers')"
            title="Count & Learn"
          >
            <span class="emoji">1ï¸âƒ£</span>
            <span class="label">Numbers</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('colors')"
            title="Color Hunt"
          >
            <span class="emoji">ğŸŸ </span>
            <span class="label">Colors</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('shapes')"
            title="Shape Quest"
          >
            <span class="emoji">â­•</span>
            <span class="label">Shapes</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('vocab')"
            title="Picture Words"
          >
            <span class="emoji">ğŸ±</span>
            <span class="label">Vocabulary</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('memory')"
            title="Memory Match"
          >
            <span class="emoji">ğŸ§ </span>
            <span class="label">Memory</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('sightwords')"
            title="Sight Words"
          >
            <span class="emoji">ğŸ‘€</span>
            <span class="label">Sight Words</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('rhyme')"
            title="Rhyme Time"
          >
            <span class="emoji">ğŸµ</span>
            <span class="label">Rhyme</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('math')"
            title="Math Time"
          >
            <span class="emoji">â•</span>
            <span class="label">Math</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('pattern')"
            title="Pattern Quest"
          >
            <span class="emoji">ğŸ”²</span>
            <span class="label">Pattern</span>
          </button>
          <button
            class="activity-btn"
            onclick="game.startActivity('category')"
            title="Sort & Learn"
          >
            <span class="emoji">ğŸ“¦</span>
            <span class="label">Category</span>
          </button>
        </div>

        <h3>Your Progress & Features:</h3>
        <div class="streak-pet-display">
          <div class="streak-box">
            ğŸ”¥ <span id="streakCounter">0</span> Days
          </div>
        </div>

        <h3>Tools:</h3>
        <div class="feature-controls">
          <button
            class="feature-btn"
            onclick="game.showStatistics()"
            title="View Statistics"
          >
            <span class="emoji">ğŸ“Š</span>
            <span class="label">Stats</span>
          </button>
          <button
            class="feature-btn"
            onclick="game.showAchievements()"
            title="View Achievements"
          >
            <span class="emoji">ğŸ†</span>
            <span class="label">Badges</span>
          </button>
          <button
            class="feature-btn"
            onclick="game.toggleSound()"
            title="Toggle Sound"
          >
            <span class="emoji" id="soundIcon">ğŸ”Š</span>
            <span class="label">Sound</span>
          </button>
          <button
            class="feature-btn"
            onclick="game.showDailyChallenge()"
            title="Daily Challenge"
          >
            <span class="emoji">ğŸ¯</span>
            <span class="label">Daily</span>
          </button>
        </div>
      </div>
    </div>

    <!-- ==================== ACTIVITY SCREEN ==================== -->
    <div id="activityScreen" class="screen">
      <div class="header">
        <button class="back-btn" onclick="game.backToGarden()">Back</button>
        <div class="question-counter">
          <span id="questionNumber">1</span>/5
        </div>
        <span class="stats">Score: <span id="activityScore">0</span></span>
      </div>

      <div class="activity-content">
        <div id="memoryStats" class="memory-stats hidden">
          <div class="memory-stat-item">
            <span class="stat-label">Pairs Found:</span>
            <span class="stat-value"><span id="pairsFound">0</span>/<span id="totalPairs">0</span></span>
          </div>
          <div class="memory-stat-item">
            <span class="stat-label">Moves:</span>
            <span class="stat-value" id="movesCount">0</span>
          </div>
        </div>
        <div class="instruction-box">
          <p id="instruction" class="instruction">Listen...</p>
          <button
            class="audio-btn"
            id="audioBtn"
            onclick="game.playInstruction()"
          >
            PLAY SOUND
          </button>
          <button id="countBtn" class="hidden audio-btn"></button>
          <button
            id="hintBtn"
            class="hidden audio-btn"
            onclick="game.showMemoryHint()"
            title="Show all cards as a hint"
          >
            HINT
          </button>
        </div>

        <div id="options" class="options-grid">
          <!-- Dynamically populated -->
        </div>

        <div id="feedback" class="feedback hidden"></div>
      </div>
    </div>

    <!-- ==================== REWARD SCREEN ==================== -->
    <div id="rewardScreen" class="screen">
      <div class="reward-content">
        <h2 class="celebrate">EXCELLENT!</h2>
        <div id="rewardPlant" class="reward-plant">ğŸŒ¿</div>
        <p id="rewardMessage" class="reward-message">Your garden is growing!</p>

        <div class="confetti" id="confetti"></div>

        <button class="main-btn" onclick="game.closeReward()">CONTINUE</button>
      </div>
    </div>

    <!-- ==================== MODAL ==================== -->

    <div id="countModal" class="modal hidden">
      <div class="modal-content">
        <h2 id="modalTitle"></h2>

        <div id="modalObjects" class="objects-grid"></div>

        <button id="closeModal" class="audio-btn">Close</button>
      </div>
    </div>

    <!-- Hidden audio element for sound effects -->
    <audio id="audioElement"></audio>

    <!-- ==================== ADMIN PANEL ==================== -->
    <!-- Admin Login Button (Bottom Right) -->
    <button id="adminLoginBtn" class="admin-login-btn" title="Admin Panel">âš™ï¸</button>

    <!-- Admin Authentication Modal -->
    <div id="adminAuthModal" class="admin-auth-modal">
      <div class="admin-auth-container">
        <h2>Admin Access</h2>
        <p>Enter password to access admin panel</p>
        <input
          type="password"
          id="adminPassword"
          class="admin-password-input"
          placeholder="Enter password"
          onkeypress="if (event.key === 'Enter') document.getElementById('adminAuthBtn').click();"
        />
        <button id="adminAuthBtn" class="admin-btn-primary">Login</button>
        <button class="admin-btn-secondary" onclick="document.getElementById('adminAuthModal').style.display = 'none';">Cancel</button>
      </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel hidden">
      <div class="admin-header">
        <h2>ğŸ“Š Admin Dashboard</h2>
        <button id="adminLogoutBtn" class="admin-btn-logout">Logout</button>
      </div>

      <!-- Admin Statistics -->
      <div id="adminStats" class="admin-stats"></div>

      <!-- Admin Controls -->
      <div class="admin-controls">
        <div class="admin-search-box">
          <input
            type="text"
            id="adminSearchInput"
            class="admin-search-input"
            placeholder="ğŸ” Search users..."
          />
        </div>
        <div class="admin-buttons">
          <button id="adminRefreshBtn" class="admin-btn-small">ğŸ”„ Refresh</button>
          <button id="adminExportBtn" class="admin-btn-small">ğŸ“¥ Export</button>
          <button id="adminClearBtn" class="admin-btn-small admin-btn-danger">ğŸ—‘ï¸ Clear All</button>
        </div>
      </div>

      <!-- Users Table -->
      <div class="admin-table-container">
        <table class="admin-users-table">
          <thead>
            <tr>
              <th>#</th>
              <th>User Name</th>
              <th>Activities Completed</th>
              <th>Total Score</th>
              <th>Last Activity</th>
              <th>Sync Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="adminUsersTableBody">
            <tr>
              <td colspan="7" class="admin-no-data">Loading users...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <script src="additional.js"></script>
    <script src="sync.js"></script>
    <script src="admin.js"></script>
    <script src="script.js"></script>
  </body>
</html>
